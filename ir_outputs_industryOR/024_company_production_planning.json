{
  "meta": {
    "problem_id": "company_production_planning",
    "source": null,
    "description": "Production planning for a company with demand fluctuations over 6 months",
    "sense": "max",
    "version": 0
  },
  "sets": [
    {
      "name": "MONTHS",
      "elements": [
        "1",
        "2",
        "3",
        "4",
        "5",
        "6"
      ],
      "description": "Months in the planning horizon"
    }
  ],
  "params": [
    {
      "name": "demand",
      "indices": [
        "MONTHS"
      ],
      "values": {
        "1": 700,
        "2": 600,
        "3": 500,
        "4": 800,
        "5": 900,
        "6": 800
      },
      "description": "Demand for each month"
    },
    {
      "name": "production_per_worker",
      "indices": [],
      "values": 20,
      "description": "Units produced per worker per month"
    },
    {
      "name": "max_extra_units_per_worker",
      "indices": [],
      "values": 6,
      "description": "Maximum extra units a worker can produce per month"
    },
    {
      "name": "extra_unit_cost",
      "indices": [],
      "values": 5,
      "description": "Cost per extra unit produced"
    },
    {
      "name": "storage_cost",
      "indices": [],
      "values": 10,
      "description": "Cost per unit stored per month"
    },
    {
      "name": "hiring_cost",
      "indices": [],
      "values": 500,
      "description": "Cost per worker hired"
    },
    {
      "name": "layoff_cost",
      "indices": [],
      "values": 700,
      "description": "Cost per worker laid off"
    },
    {
      "name": "initial_workers",
      "indices": [],
      "values": 40,
      "description": "Initial number of workers"
    },
    {
      "name": "max_worker_change",
      "indices": [],
      "values": 5,
      "description": "Maximum change in number of workers per month"
    }
  ],
  "vars": [
    {
      "name": "extra_units",
      "indices": [
        "MONTHS"
      ],
      "vartype": "continuous",
      "lb": 0.0,
      "ub": null,
      "description": "Extra units produced in each month"
    },
    {
      "name": "stored_units",
      "indices": [
        "MONTHS"
      ],
      "vartype": "continuous",
      "lb": 0.0,
      "ub": null,
      "description": "Units stored at the end of each month"
    },
    {
      "name": "hired_workers",
      "indices": [
        "MONTHS"
      ],
      "vartype": "continuous",
      "lb": 0.0,
      "ub": null,
      "description": "Number of workers hired in each month"
    },
    {
      "name": "laid_off_workers",
      "indices": [
        "MONTHS"
      ],
      "vartype": "continuous",
      "lb": 0.0,
      "ub": null,
      "description": "Number of workers laid off in each month"
    },
    {
      "name": "workers",
      "indices": [
        "MONTHS"
      ],
      "vartype": "continuous",
      "lb": 0.0,
      "ub": null,
      "description": "Number of workers in each month"
    }
  ],
  "objective": {
    "name": "max_revenue",
    "sense": "max",
    "expr": "sum((production_per_worker * workers[m] + extra_units[m] - demand[m]) * storage_cost for m in MONTHS) - sum(extra_units[m] * extra_unit_cost for m in MONTHS) - sum(hired_workers[m] * hiring_cost for m in MONTHS) - sum(laid_off_workers[m] * layoff_cost for m in MONTHS)",
    "description": "Maximize revenue by balancing production, storage, hiring, and layoff costs"
  },
  "constraints": [
    {
      "name": "production_balance",
      "expr_lhs": "production_per_worker * workers[m] + extra_units[m] + stored_units[m-1] if m > 1 else 0",
      "sense": ">=",
      "expr_rhs": "demand[m] + stored_units[m]",
      "description": "Production and storage must meet demand for each month"
    },
    {
      "name": "initial_storage",
      "expr_lhs": "stored_units[1]",
      "sense": "==",
      "expr_rhs": "0",
      "description": "Initial storage is empty"
    },
    {
      "name": "final_storage",
      "expr_lhs": "stored_units[6]",
      "sense": "==",
      "expr_rhs": "0",
      "description": "Final storage must be empty"
    },
    {
      "name": "worker_balance",
      "expr_lhs": "workers[m]",
      "sense": "==",
      "expr_rhs": "initial_workers + sum(hired_workers[i] - laid_off_workers[i] for i in range(1, m+1))",
      "description": "Worker balance considering hiring and layoffs"
    },
    {
      "name": "max_worker_change_hiring",
      "expr_lhs": "hired_workers[m]",
      "sense": "<=",
      "expr_rhs": "max_worker_change",
      "description": "Maximum number of workers that can be hired per month"
    },
    {
      "name": "max_worker_change_layoff",
      "expr_lhs": "laid_off_workers[m]",
      "sense": "<=",
      "expr_rhs": "max_worker_change",
      "description": "Maximum number of workers that can be laid off per month"
    },
    {
      "name": "max_extra_production",
      "expr_lhs": "extra_units[m]",
      "sense": "<=",
      "expr_rhs": "max_extra_units_per_worker * workers[m]",
      "description": "Extra production limited by worker capacity"
    }
  ],
  "graph": null
}