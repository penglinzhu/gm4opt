{
  "meta": {
    "problem_id": "mamo_complex_lp_39",
    "source": "Mamo_complex_lp",
    "description": "Imagine you're responsible for managing the distribution of medical supplies across five different regions during a critical healthcare crisis. Each region starts with a certain amount of supplies but has different requirements based on the healthcare demands.\n\nHere is the current stock and the needed amounts in each region:\n\n- Region 1 has 410 units of supplies but needs 274 units.\n- Region 2 has 266 units but needs 331 units.\n- Region 3 has 132 units but needs 232 units.\n- Region 4 has only 6 units but urgently needs 359 units.\n- Region 5 has 485 units but needs just 74 units.\n\nTo ensure each region has the medical supplies it needs, you can transfer supplies between regions. However, transferring supplies incurs costs which vary between regions. Below is the cost matrix that shows the cost of transferring supplies from one region to another:\n\n- From/to Region 1: To Region 2 costs 24, to Region 3 costs 3, to Region 4 costs 27, to Region 5 costs 31.\n- From/to Region 2: To Region 1 costs 24, to Region 3 costs 11, to Region 4 costs 7, to Region 5 costs 37.\n- From/to Region 3: To Region 1 costs 30, to Region 2 costs 1, to Region 4 costs 38, to Region 5 costs 22.\n- From/to Region 4: To Region 1 costs 36, to Region 2 costs 18, to Region 3 costs 17, to Region 5 costs 35.\n- From/to Region 5: To Region 1 costs 41, to Region 2 costs 35, to Region 3 costs 33, to Region 4 costs 33.\n\nYour objective is to ensure every region has the medical supplies it requires at the lowest possible transportation cost. What would be the minimum cost to ensure all regions have the necessary medical supplies?",
    "sense": "min",
    "version": "v1"
  },
  "sets": [
    {
      "name": "Regions",
      "elements": [
        "1",
        "2",
        "3",
        "4",
        "5"
      ],
      "description": "Regions involved in the distribution of medical supplies"
    }
  ],
  "params": [
    {
      "name": "supply",
      "indices": [
        "Regions"
      ],
      "values": {
        "1": 410,
        "2": 266,
        "3": 132,
        "4": 6,
        "5": 485
      },
      "description": "Initial supply in each region"
    },
    {
      "name": "demand",
      "indices": [
        "Regions"
      ],
      "values": {
        "1": 274,
        "2": 331,
        "3": 232,
        "4": 359,
        "5": 74
      },
      "description": "Demand in each region"
    },
    {
      "name": "cost",
      "indices": [
        "Regions",
        "Regions"
      ],
      "values": {
        "1": {
          "2": 24,
          "3": 3,
          "4": 27,
          "5": 31,
          "1": 0.0
        },
        "2": {
          "1": 24,
          "3": 11,
          "4": 7,
          "5": 37,
          "2": 0.0
        },
        "3": {
          "1": 30,
          "2": 1,
          "4": 38,
          "5": 22,
          "3": 0.0
        },
        "4": {
          "1": 36,
          "2": 18,
          "3": 17,
          "5": 35,
          "4": 0.0
        },
        "5": {
          "1": 41,
          "2": 35,
          "3": 33,
          "4": 33,
          "5": 0.0
        }
      },
      "description": "Cost of transferring supplies between regions"
    }
  ],
  "vars": [
    {
      "name": "transfer",
      "indices": [
        "Regions",
        "Regions"
      ],
      "vartype": "continuous",
      "lb": 0.0,
      "ub": null,
      "description": "Amount of supplies transferred from one region to another"
    }
  ],
  "objective": {
    "name": "min_cost",
    "sense": "min",
    "expr": "quicksum(cost[i][j] * transfer[i][j] for i in Regions for j in Regions if i != j)",
    "description": "Minimize the total transportation cost"
  },
  "constraints": [
    {
      "name": "supply_balance_1",
      "expr_lhs": "supply['1'] + quicksum(transfer[j]['1'] for j in Regions if j != '1') - quicksum(transfer['1'][j] for j in Regions if j != '1')",
      "sense": "==",
      "expr_rhs": "demand['1']",
      "description": "Ensure supply balance for Region 1"
    },
    {
      "name": "supply_balance_2",
      "expr_lhs": "supply['2'] + quicksum(transfer[j]['2'] for j in Regions if j != '2') - quicksum(transfer['2'][j] for j in Regions if j != '2')",
      "sense": "==",
      "expr_rhs": "demand['2']",
      "description": "Ensure supply balance for Region 2"
    },
    {
      "name": "supply_balance_3",
      "expr_lhs": "supply['3'] + quicksum(transfer[j]['3'] for j in Regions if j != '3') - quicksum(transfer['3'][j] for j in Regions if j != '3')",
      "sense": "==",
      "expr_rhs": "demand['3']",
      "description": "Ensure supply balance for Region 3"
    },
    {
      "name": "supply_balance_4",
      "expr_lhs": "supply['4'] + quicksum(transfer[j]['4'] for j in Regions if j != '4') - quicksum(transfer['4'][j] for j in Regions if j != '4')",
      "sense": "==",
      "expr_rhs": "demand['4']",
      "description": "Ensure supply balance for Region 4"
    },
    {
      "name": "supply_balance_5",
      "expr_lhs": "supply['5'] + quicksum(transfer[j]['5'] for j in Regions if j != '5') - quicksum(transfer['5'][j] for j in Regions if j != '5')",
      "sense": "==",
      "expr_rhs": "demand['5']",
      "description": "Ensure supply balance for Region 5"
    }
  ]
}