{
  "meta": {
    "problem_id": "mamo_complex_lp_40",
    "source": "Mamo_complex_lp",
    "description": "Imagine a logistics manager tasked with planning a delivery route for a truck that needs to visit four different cities to distribute goods. The cities are identified numerically as 1, 2, 3, and 4. The truck can start its journey from any of these cities but must travel to each city exactly once and then return to the starting point. The objective is to arrange this route in such a way that the total travel cost is minimized. The costs associated with traveling between the cities are as follows:\n- The cost to travel from City 1 to City 2 is 52 units, to City 3 is 89 units, and to City 4 is 11 units.\n- From City 2, it costs 52 units to reach City 1, 14 units to get to City 3, and 13 units to City 4.\n- Traveling from City 3, the costs are 89 units to City 1, 14 units to City 2, and 87 units to City 4.\n- Lastly, from City 4, it costs 11 units to go to City 1, 13 units to City 2, and 87 units to City 3.\n\nWhat is the minimum total travel cost for the truck to visit each city exactly once and return to the starting city?",
    "sense": "min",
    "version": "v1"
  },
  "sets": [
    {
      "name": "Cities",
      "elements": [
        "1",
        "2",
        "3",
        "4"
      ],
      "description": "Set of cities to be visited"
    }
  ],
  "params": [
    {
      "name": "cost",
      "indices": [
        "Cities",
        "Cities"
      ],
      "values": {
        "1": {
          "2": 52.0,
          "3": 89.0,
          "4": 11.0,
          "1": 0.0
        },
        "2": {
          "1": 52.0,
          "3": 14.0,
          "4": 13.0,
          "2": 0.0
        },
        "3": {
          "1": 89.0,
          "2": 14.0,
          "4": 87.0,
          "3": 0.0
        },
        "4": {
          "1": 11.0,
          "2": 13.0,
          "3": 87.0,
          "4": 0.0
        }
      },
      "description": "Cost of traveling between cities"
    }
  ],
  "vars": [
    {
      "name": "x",
      "indices": [
        "Cities",
        "Cities"
      ],
      "vartype": "binary",
      "lb": 0.0,
      "ub": 1.0,
      "description": "1 if the route goes from city i to city j, 0 otherwise"
    },
    {
      "name": "u",
      "indices": [
        "Cities"
      ],
      "vartype": "integer",
      "lb": 0.0,
      "ub": 3.0,
      "description": "Subtour elimination variable"
    }
  ],
  "objective": {
    "name": "total_cost",
    "sense": "min",
    "expr": "quicksum(cost[i][j] * x[i][j] for i in Cities for j in Cities if i != j)",
    "description": "Minimize the total travel cost"
  },
  "constraints": [
    {
      "name": "visit_each_city_once_1",
      "expr_lhs": "quicksum(x['1'][j] for j in Cities if j != '1')",
      "sense": "==",
      "expr_rhs": "1.0",
      "description": "Leave city 1 exactly once"
    },
    {
      "name": "visit_each_city_once_2",
      "expr_lhs": "quicksum(x['2'][j] for j in Cities if j != '2')",
      "sense": "==",
      "expr_rhs": "1.0",
      "description": "Leave city 2 exactly once"
    },
    {
      "name": "visit_each_city_once_3",
      "expr_lhs": "quicksum(x['3'][j] for j in Cities if j != '3')",
      "sense": "==",
      "expr_rhs": "1.0",
      "description": "Leave city 3 exactly once"
    },
    {
      "name": "visit_each_city_once_4",
      "expr_lhs": "quicksum(x['4'][j] for j in Cities if j != '4')",
      "sense": "==",
      "expr_rhs": "1.0",
      "description": "Leave city 4 exactly once"
    },
    {
      "name": "enter_each_city_once_1",
      "expr_lhs": "quicksum(x[i]['1'] for i in Cities if i != '1')",
      "sense": "==",
      "expr_rhs": "1.0",
      "description": "Enter city 1 exactly once"
    },
    {
      "name": "enter_each_city_once_2",
      "expr_lhs": "quicksum(x[i]['2'] for i in Cities if i != '2')",
      "sense": "==",
      "expr_rhs": "1.0",
      "description": "Enter city 2 exactly once"
    },
    {
      "name": "enter_each_city_once_3",
      "expr_lhs": "quicksum(x[i]['3'] for i in Cities if i != '3')",
      "sense": "==",
      "expr_rhs": "1.0",
      "description": "Enter city 3 exactly once"
    },
    {
      "name": "enter_each_city_once_4",
      "expr_lhs": "quicksum(x[i]['4'] for i in Cities if i != '4')",
      "sense": "==",
      "expr_rhs": "1.0",
      "description": "Enter city 4 exactly once"
    },
    {
      "name": "subtour_elimination_2",
      "expr_lhs": "u['2'] - u['1'] + 4 * x['1']['2']",
      "sense": "<=",
      "expr_rhs": "3.0",
      "description": "Subtour elimination constraint for city 2"
    },
    {
      "name": "subtour_elimination_3",
      "expr_lhs": "u['3'] - u['1'] + 4 * x['1']['3']",
      "sense": "<=",
      "expr_rhs": "3.0",
      "description": "Subtour elimination constraint for city 3"
    },
    {
      "name": "subtour_elimination_4",
      "expr_lhs": "u['4'] - u['1'] + 4 * x['1']['4']",
      "sense": "<=",
      "expr_rhs": "3.0",
      "description": "Subtour elimination constraint for city 4"
    }
  ]
}