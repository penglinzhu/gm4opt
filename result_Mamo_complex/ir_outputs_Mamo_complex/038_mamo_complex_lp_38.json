{
  "meta": {
    "problem_id": "mamo_complex_lp_38",
    "source": "Mamo_complex_lp",
    "description": "Imagine you're the logistics coordinator in charge of distributing medical supplies among four different hospitals during an unexpected health crisis. Each hospital starts with a specific number of supplies but has varying needs based on the urgency and scale of cases they are handling.\n\nHere's what each hospital has and what they need:\n\n- Hospital 1 has 480 units of supplies but needs only 61 units.\n- Hospital 2 has 492 units but needs 313 units.\n- Hospital 3 has 74 units but needs 93 units.\n- Hospital 4 has 317 units but needs 199 units.\n\nDue to the urgent situation, you can transfer supplies between hospitals, but each transfer incurs a cost, which varies depending on the hospitals involved. Hereâ€™s a breakdown of the cost to transfer supplies from one hospital to another:\n\n- Moving supplies from/to Hospital 1: To Hospital 2 costs 8, to Hospital 3 costs 42, to Hospital 4 costs 27.\n- Moving supplies from/to Hospital 2: To Hospital 1 costs 17, to Hospital 3 costs 13, to Hospital 4 costs 30.\n- Moving supplies from/to Hospital 3: To Hospital 1 costs 4, to Hospital 2 costs 14, to Hospital 4 costs 16.\n- Moving supplies from/to Hospital 4: To Hospital 1 costs 33, to Hospital 2 costs 9, to Hospital 3 costs 42.\n\nYour objective is to ensure each hospital has the supplies it needs while minimizing the total cost of transfers. What would be the minimum cost to achieve this?",
    "sense": "min",
    "version": "v1"
  },
  "sets": [
    {
      "name": "H",
      "elements": [
        "1",
        "2",
        "3",
        "4"
      ],
      "description": "Set of hospitals"
    }
  ],
  "params": [
    {
      "name": "supply",
      "indices": [
        "H"
      ],
      "values": {
        "1": 480,
        "2": 492,
        "3": 74,
        "4": 317
      },
      "description": "Initial supply at each hospital"
    },
    {
      "name": "demand",
      "indices": [
        "H"
      ],
      "values": {
        "1": 61,
        "2": 313,
        "3": 93,
        "4": 199
      },
      "description": "Demand at each hospital"
    },
    {
      "name": "cost",
      "indices": [
        "H",
        "H"
      ],
      "values": {
        "1": {
          "2": 8,
          "3": 42,
          "4": 27,
          "1": 0.0
        },
        "2": {
          "1": 17,
          "3": 13,
          "4": 30,
          "2": 0.0
        },
        "3": {
          "1": 4,
          "2": 14,
          "4": 16,
          "3": 0.0
        },
        "4": {
          "1": 33,
          "2": 9,
          "3": 42,
          "4": 0.0
        }
      },
      "description": "Cost to transfer supplies between hospitals"
    }
  ],
  "vars": [
    {
      "name": "x",
      "indices": [
        "H",
        "H"
      ],
      "vartype": "integer",
      "lb": 0.0,
      "ub": null,
      "description": "Units of supplies transferred from hospital i to hospital j"
    }
  ],
  "objective": {
    "name": "total_cost",
    "sense": "min",
    "expr": "quicksum(cost[i][j] * x[i][j] for i in H for j in H if i != j)",
    "description": "Minimize the total cost of transferring supplies"
  },
  "constraints": [
    {
      "name": "supply_balance_1",
      "expr_lhs": "supply['1'] + quicksum(x[j]['1'] for j in H if j != '1') - quicksum(x['1'][j] for j in H if j != '1')",
      "sense": "==",
      "expr_rhs": "demand['1']",
      "description": "Balance supply and demand for hospital 1"
    },
    {
      "name": "supply_balance_2",
      "expr_lhs": "supply['2'] + quicksum(x[j]['2'] for j in H if j != '2') - quicksum(x['2'][j] for j in H if j != '2')",
      "sense": "==",
      "expr_rhs": "demand['2']",
      "description": "Balance supply and demand for hospital 2"
    },
    {
      "name": "supply_balance_3",
      "expr_lhs": "supply['3'] + quicksum(x[j]['3'] for j in H if j != '3') - quicksum(x['3'][j] for j in H if j != '3')",
      "sense": "==",
      "expr_rhs": "demand['3']",
      "description": "Balance supply and demand for hospital 3"
    },
    {
      "name": "supply_balance_4",
      "expr_lhs": "supply['4'] + quicksum(x[j]['4'] for j in H if j != '4') - quicksum(x['4'][j] for j in H if j != '4')",
      "sense": "==",
      "expr_rhs": "demand['4']",
      "description": "Balance supply and demand for hospital 4"
    }
  ]
}