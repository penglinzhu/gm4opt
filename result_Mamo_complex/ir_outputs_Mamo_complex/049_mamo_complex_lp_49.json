{
  "meta": {
    "problem_id": "mamo_complex_lp_49",
    "source": "Mamo_complex_lp",
    "description": "Imagine a scenario involving a salesperson who needs to visit five distinct cities to promote their products. These cities are uniquely numbered from 1 to 5. The objective for the salesperson is to undertake a journey starting from any one of these cities and cover all others once before returning to the starting point, all while incurring the least travel cost possible. The travel costs vary depending on the route between each city pair.\n\nHere's a breakdown of the travel costs between the cities:\n- The cost to travel from City 1 to City 2 is 73 units, to City 3 is 39 units, to City 4 is 79 units, and to City 5 is 38 units.\n- From City 2, it costs 73 units to reach City 1, 30 units to go to City 3, 46 units to visit City 4, and 29 units to get to City 5.\n- Traveling from City 3, the costs are 39 units to City 1, 30 units to City 2, 88 units to City 4, and 57 units to City 5.\n- From City 4, it costs 79 units to go to City 1, 46 units to City 2, 88 units to City 3, and 59 units to City 5.\n- Lastly, from City 5, the travel costs are 38 units to City 1, 29 units to City 2, 57 units to City 3, and 59 units to City 4.\n\nGiven these details, what is the minimum total travel cost for the salesperson to visit each city exactly once and return to the starting city?",
    "sense": "min",
    "version": "v1"
  },
  "sets": [
    {
      "name": "Cities",
      "elements": [
        "1",
        "2",
        "3",
        "4",
        "5"
      ],
      "description": "Set of cities"
    }
  ],
  "params": [
    {
      "name": "travel_cost",
      "indices": [
        "Cities",
        "Cities"
      ],
      "values": {
        "1": {
          "2": 73.0,
          "3": 39.0,
          "4": 79.0,
          "5": 38.0,
          "1": 0.0
        },
        "2": {
          "1": 73.0,
          "3": 30.0,
          "4": 46.0,
          "5": 29.0,
          "2": 0.0
        },
        "3": {
          "1": 39.0,
          "2": 30.0,
          "4": 88.0,
          "5": 57.0,
          "3": 0.0
        },
        "4": {
          "1": 79.0,
          "2": 46.0,
          "3": 88.0,
          "5": 59.0,
          "4": 0.0
        },
        "5": {
          "1": 38.0,
          "2": 29.0,
          "3": 57.0,
          "4": 59.0,
          "5": 0.0
        }
      },
      "description": "Cost of travel between cities"
    }
  ],
  "vars": [
    {
      "name": "x",
      "indices": [
        "Cities",
        "Cities"
      ],
      "vartype": "binary",
      "lb": 0.0,
      "ub": 1.0,
      "description": "1 if the route between two cities is used, 0 otherwise"
    },
    {
      "name": "u",
      "indices": [
        "Cities"
      ],
      "vartype": "integer",
      "lb": 0.0,
      "ub": 4.0,
      "description": "Subtour elimination variable"
    }
  ],
  "objective": {
    "name": "min_travel_cost",
    "sense": "min",
    "expr": "quicksum(travel_cost[i][j] * x[i][j] for i in Cities for j in Cities if i != j)",
    "description": "Minimize total travel cost"
  },
  "constraints": [
    {
      "name": "visit_each_city_once_1",
      "expr_lhs": "quicksum(x['1'][j] for j in Cities if j != '1')",
      "sense": "==",
      "expr_rhs": "1.0",
      "description": "Leave city 1 exactly once"
    },
    {
      "name": "visit_each_city_once_2",
      "expr_lhs": "quicksum(x['2'][j] for j in Cities if j != '2')",
      "sense": "==",
      "expr_rhs": "1.0",
      "description": "Leave city 2 exactly once"
    },
    {
      "name": "visit_each_city_once_3",
      "expr_lhs": "quicksum(x['3'][j] for j in Cities if j != '3')",
      "sense": "==",
      "expr_rhs": "1.0",
      "description": "Leave city 3 exactly once"
    },
    {
      "name": "visit_each_city_once_4",
      "expr_lhs": "quicksum(x['4'][j] for j in Cities if j != '4')",
      "sense": "==",
      "expr_rhs": "1.0",
      "description": "Leave city 4 exactly once"
    },
    {
      "name": "visit_each_city_once_5",
      "expr_lhs": "quicksum(x['5'][j] for j in Cities if j != '5')",
      "sense": "==",
      "expr_rhs": "1.0",
      "description": "Leave city 5 exactly once"
    },
    {
      "name": "enter_each_city_once_1",
      "expr_lhs": "quicksum(x[i]['1'] for i in Cities if i != '1')",
      "sense": "==",
      "expr_rhs": "1.0",
      "description": "Enter city 1 exactly once"
    },
    {
      "name": "enter_each_city_once_2",
      "expr_lhs": "quicksum(x[i]['2'] for i in Cities if i != '2')",
      "sense": "==",
      "expr_rhs": "1.0",
      "description": "Enter city 2 exactly once"
    },
    {
      "name": "enter_each_city_once_3",
      "expr_lhs": "quicksum(x[i]['3'] for i in Cities if i != '3')",
      "sense": "==",
      "expr_rhs": "1.0",
      "description": "Enter city 3 exactly once"
    },
    {
      "name": "enter_each_city_once_4",
      "expr_lhs": "quicksum(x[i]['4'] for i in Cities if i != '4')",
      "sense": "==",
      "expr_rhs": "1.0",
      "description": "Enter city 4 exactly once"
    },
    {
      "name": "enter_each_city_once_5",
      "expr_lhs": "quicksum(x[i]['5'] for i in Cities if i != '5')",
      "sense": "==",
      "expr_rhs": "1.0",
      "description": "Enter city 5 exactly once"
    },
    {
      "name": "subtour_elimination_2",
      "expr_lhs": "u['2'] - u['1'] + 5 * x['1']['2']",
      "sense": "<=",
      "expr_rhs": "4.0",
      "description": "Subtour elimination for city 2"
    },
    {
      "name": "subtour_elimination_3",
      "expr_lhs": "u['3'] - u['1'] + 5 * x['1']['3']",
      "sense": "<=",
      "expr_rhs": "4.0",
      "description": "Subtour elimination for city 3"
    },
    {
      "name": "subtour_elimination_4",
      "expr_lhs": "u['4'] - u['1'] + 5 * x['1']['4']",
      "sense": "<=",
      "expr_rhs": "4.0",
      "description": "Subtour elimination for city 4"
    },
    {
      "name": "subtour_elimination_5",
      "expr_lhs": "u['5'] - u['1'] + 5 * x['1']['5']",
      "sense": "<=",
      "expr_rhs": "4.0",
      "description": "Subtour elimination for city 5"
    }
  ]
}