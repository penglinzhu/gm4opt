{
  "meta": {
    "problem_id": "mamo_complex_lp_50",
    "source": "Mamo_complex_lp",
    "description": "Imagine a salesperson tasked with visiting four distinct cities—let's call them A, B, C, and D—to promote their products. The salesperson can commence their journey from any of these cities, with the requirement that they visit each city exactly once before returning to the starting point. The primary objective is to minimize the total travel cost incurred during this journey.\n\nHere's a breakdown of the travel costs between the cities:\n- To travel from City A to B, it costs 61 units.\n- To journey from City A to C, the cost is 65 units.\n- The travel cost from City A to D is 63 units.\n- If the salesperson begins from City B, it costs 61 units to reach A, 94 units to get to C, and 31 units to D.\n- From City C, the costs are 65 units to A, 94 units to B, and 19 units to D.\n- Finally, from City D, the costs are 63 units to A, 31 units to B, and 19 units to C.\n\nNow, what is the minimum total travel cost for the salesperson to visit each city exactly once and return to the starting city?",
    "sense": "min",
    "version": "v1"
  },
  "sets": [
    {
      "name": "Cities",
      "elements": [
        "A",
        "B",
        "C",
        "D"
      ],
      "description": "Set of cities to be visited."
    }
  ],
  "params": [
    {
      "name": "cost",
      "indices": [
        "Cities",
        "Cities"
      ],
      "values": {
        "A": {
          "B": 61.0,
          "C": 65.0,
          "D": 63.0,
          "A": 0.0
        },
        "B": {
          "A": 61.0,
          "C": 94.0,
          "D": 31.0,
          "B": 0.0
        },
        "C": {
          "A": 65.0,
          "B": 94.0,
          "D": 19.0,
          "C": 0.0
        },
        "D": {
          "A": 63.0,
          "B": 31.0,
          "C": 19.0,
          "D": 0.0
        }
      },
      "description": "Travel costs between cities."
    }
  ],
  "vars": [
    {
      "name": "x",
      "indices": [
        "Cities",
        "Cities"
      ],
      "vartype": "binary",
      "lb": 0.0,
      "ub": 1.0,
      "description": "Binary variable indicating if a path between two cities is taken."
    },
    {
      "name": "u",
      "indices": [
        "Cities"
      ],
      "vartype": "continuous",
      "lb": 0.0,
      "ub": null,
      "description": "Auxiliary variables for subtour elimination."
    }
  ],
  "objective": {
    "name": "total_cost",
    "sense": "min",
    "expr": "quicksum(cost[i][j] * x[i][j] for i in Cities for j in Cities if i != j)",
    "description": "Minimize the total travel cost."
  },
  "constraints": [
    {
      "name": "visit_each_city_once_A",
      "expr_lhs": "quicksum(x['A'][j] for j in Cities if j != 'A')",
      "sense": "==",
      "expr_rhs": "1.0",
      "description": "Ensure city A is visited exactly once."
    },
    {
      "name": "visit_each_city_once_B",
      "expr_lhs": "quicksum(x['B'][j] for j in Cities if j != 'B')",
      "sense": "==",
      "expr_rhs": "1.0",
      "description": "Ensure city B is visited exactly once."
    },
    {
      "name": "visit_each_city_once_C",
      "expr_lhs": "quicksum(x['C'][j] for j in Cities if j != 'C')",
      "sense": "==",
      "expr_rhs": "1.0",
      "description": "Ensure city C is visited exactly once."
    },
    {
      "name": "visit_each_city_once_D",
      "expr_lhs": "quicksum(x['D'][j] for j in Cities if j != 'D')",
      "sense": "==",
      "expr_rhs": "1.0",
      "description": "Ensure city D is visited exactly once."
    },
    {
      "name": "leave_each_city_once_A",
      "expr_lhs": "quicksum(x[i]['A'] for i in Cities if i != 'A')",
      "sense": "==",
      "expr_rhs": "1.0",
      "description": "Ensure city A is left exactly once."
    },
    {
      "name": "leave_each_city_once_B",
      "expr_lhs": "quicksum(x[i]['B'] for i in Cities if i != 'B')",
      "sense": "==",
      "expr_rhs": "1.0",
      "description": "Ensure city B is left exactly once."
    },
    {
      "name": "leave_each_city_once_C",
      "expr_lhs": "quicksum(x[i]['C'] for i in Cities if i != 'C')",
      "sense": "==",
      "expr_rhs": "1.0",
      "description": "Ensure city C is left exactly once."
    },
    {
      "name": "leave_each_city_once_D",
      "expr_lhs": "quicksum(x[i]['D'] for i in Cities if i != 'D')",
      "sense": "==",
      "expr_rhs": "1.0",
      "description": "Ensure city D is left exactly once."
    },
    {
      "name": "subtour_elimination_B",
      "expr_lhs": "u['A'] - u['B'] + 4 * x['A']['B']",
      "sense": "<=",
      "expr_rhs": "3.0",
      "description": "Subtour elimination constraint for city B."
    },
    {
      "name": "subtour_elimination_C",
      "expr_lhs": "u['A'] - u['C'] + 4 * x['A']['C']",
      "sense": "<=",
      "expr_rhs": "3.0",
      "description": "Subtour elimination constraint for city C."
    },
    {
      "name": "subtour_elimination_D",
      "expr_lhs": "u['A'] - u['D'] + 4 * x['A']['D']",
      "sense": "<=",
      "expr_rhs": "3.0",
      "description": "Subtour elimination constraint for city D."
    }
  ]
}