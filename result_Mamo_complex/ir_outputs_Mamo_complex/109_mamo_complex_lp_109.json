{
  "meta": {
    "problem_id": "mamo_complex_lp_109",
    "source": "Mamo_complex_lp",
    "description": "Solar Oil Company is a gasoline refiner and wholesaler. It sells two products to gas stations: regular and premium gasoline. It makes these two final products by blending together four raw gasolines and some chemical additives (the amount and cost of the additives per barrel are assumed to be independent of the mixture). Each gasoline has an octane rating that reflects its energy content. The four types of raw gasoline have octane ratings and daily availability as follows: raw gasoline 1 with 86 octane is available up to 20,000 barrels per day at a cost of $17.00 per barrel, raw gasoline 2 with 88 octane can be purchased up to 15,000 barrels per day at $18.00 per barrel, raw gasoline 3 with 92 octane is available up to 15,000 barrels daily at $20.50 per barrel, and raw gasoline 4 with 96 octane has a daily availability of 10,000 barrels at $23.00 per barrel. The required minimum octane for each final gasoline product is 89 for regular, which sells at $19.50 per barrel with a maximum daily demand of 35,000 barrels, and 93 for premium gasoline, priced at $22.00 per barrel with a demand of up to 23,000 barrels per day. Solar Oil can sell all the gas it produces up to that amount. The blending of gasoline is approximately a linear operation in terms of volume and octane. If x barrels of 80 octane gasoline are blended with y barrels of 90 octane gasoline, this produces x + y barrels of gasoline with an octane of (80x + 90y)/(x+y). There is no significant volume gain or loss, and octane of the mixture is a weighted average of the octanes of the inputs. Find the maximal profit of the company.",
    "sense": "max",
    "version": "v1"
  },
  "sets": [
    {
      "name": "RawGasolines",
      "elements": [
        "1",
        "2",
        "3",
        "4"
      ],
      "description": "Types of raw gasolines"
    },
    {
      "name": "FinalProducts",
      "elements": [
        "regular",
        "premium"
      ],
      "description": "Types of final gasoline products"
    }
  ],
  "params": [
    {
      "name": "octane",
      "indices": [
        "RawGasolines"
      ],
      "values": {
        "1": 86.0,
        "2": 88.0,
        "3": 92.0,
        "4": 96.0
      },
      "description": "Octane ratings of raw gasolines"
    },
    {
      "name": "availability",
      "indices": [
        "RawGasolines"
      ],
      "values": {
        "1": 20000.0,
        "2": 15000.0,
        "3": 15000.0,
        "4": 10000.0
      },
      "description": "Daily availability of raw gasolines"
    },
    {
      "name": "cost",
      "indices": [
        "RawGasolines"
      ],
      "values": {
        "1": 17.0,
        "2": 18.0,
        "3": 20.5,
        "4": 23.0
      },
      "description": "Cost per barrel of raw gasolines"
    },
    {
      "name": "min_octane",
      "indices": [
        "FinalProducts"
      ],
      "values": {
        "regular": 89.0,
        "premium": 93.0
      },
      "description": "Minimum octane requirement for final products"
    },
    {
      "name": "price",
      "indices": [
        "FinalProducts"
      ],
      "values": {
        "regular": 19.5,
        "premium": 22.0
      },
      "description": "Selling price per barrel of final products"
    },
    {
      "name": "max_demand",
      "indices": [
        "FinalProducts"
      ],
      "values": {
        "regular": 35000.0,
        "premium": 23000.0
      },
      "description": "Maximum daily demand for final products"
    }
  ],
  "vars": [
    {
      "name": "blend",
      "indices": [
        "RawGasolines",
        "FinalProducts"
      ],
      "vartype": "continuous",
      "lb": 0.0,
      "ub": null,
      "description": "Barrels of raw gasoline blended into final products"
    },
    {
      "name": "production",
      "indices": [
        "FinalProducts"
      ],
      "vartype": "continuous",
      "lb": 0.0,
      "ub": null,
      "description": "Total barrels of each final product produced"
    }
  ],
  "objective": {
    "name": "profit",
    "sense": "max",
    "expr": "quicksum((price[j] * production[j] - quicksum(cost[i] * blend[i][j] for i in RawGasolines)) for j in FinalProducts)",
    "description": "Maximize profit from selling final products"
  },
  "constraints": [
    {
      "name": "octane_regular",
      "expr_lhs": "quicksum(octane[i] * blend[i]['regular'] for i in RawGasolines)",
      "sense": ">=",
      "expr_rhs": "min_octane['regular'] * production['regular']",
      "description": "Minimum octane requirement for regular gasoline"
    },
    {
      "name": "octane_premium",
      "expr_lhs": "quicksum(octane[i] * blend[i]['premium'] for i in RawGasolines)",
      "sense": ">=",
      "expr_rhs": "min_octane['premium'] * production['premium']",
      "description": "Minimum octane requirement for premium gasoline"
    },
    {
      "name": "production_regular",
      "expr_lhs": "production['regular']",
      "sense": "==",
      "expr_rhs": "quicksum(blend[i]['regular'] for i in RawGasolines)",
      "description": "Total production of regular gasoline"
    },
    {
      "name": "production_premium",
      "expr_lhs": "production['premium']",
      "sense": "==",
      "expr_rhs": "quicksum(blend[i]['premium'] for i in RawGasolines)",
      "description": "Total production of premium gasoline"
    },
    {
      "name": "demand_regular",
      "expr_lhs": "production['regular']",
      "sense": "<=",
      "expr_rhs": "max_demand['regular']",
      "description": "Demand constraint for regular gasoline"
    },
    {
      "name": "demand_premium",
      "expr_lhs": "production['premium']",
      "sense": "<=",
      "expr_rhs": "max_demand['premium']",
      "description": "Demand constraint for premium gasoline"
    },
    {
      "name": "availability_1",
      "expr_lhs": "quicksum(blend['1'][j] for j in FinalProducts)",
      "sense": "<=",
      "expr_rhs": "availability['1']",
      "description": "Availability constraint for raw gasoline 1"
    },
    {
      "name": "availability_2",
      "expr_lhs": "quicksum(blend['2'][j] for j in FinalProducts)",
      "sense": "<=",
      "expr_rhs": "availability['2']",
      "description": "Availability constraint for raw gasoline 2"
    },
    {
      "name": "availability_3",
      "expr_lhs": "quicksum(blend['3'][j] for j in FinalProducts)",
      "sense": "<=",
      "expr_rhs": "availability['3']",
      "description": "Availability constraint for raw gasoline 3"
    },
    {
      "name": "availability_4",
      "expr_lhs": "quicksum(blend['4'][j] for j in FinalProducts)",
      "sense": "<=",
      "expr_rhs": "availability['4']",
      "description": "Availability constraint for raw gasoline 4"
    }
  ]
}