{
  "meta": {
    "problem_id": "mamo_complex_lp_71",
    "source": "Mamo_complex_lp",
    "description": "In the heart of a bustling metropolis, an expansive network of waterways and canals forms the lifeline for its residents, connecting 9 critical distribution centers that manage the flow of water from the city's reservoirs to its farthest suburbs. This intricate system, designed to ensure the smooth and efficient delivery of water, consists of channels with varying capacities, reflecting the maximum volumes of water (in thousands of gallons per hour) that can traverse these connections without causing overflow or damage.\n\nHere's a detailed look at the capacities of each channel in this vital network:\n\n- From Distribution Center 0 (Source), the water can be directed to Centers 1 through 8 with capacities of 9, 7, 18, 0, 0, 7, 0, and 2 thousand gallons per hour, respectively.\n- Center 1 has the capability to forward water to other centers, including sending 15, 11, 5, 20, 15, 18, 9, and 15 thousand gallons per hour to Centers 0 through 8 (excluding itself).\n- Similarly, the capacities from Center 2 to others are marked by flows of 3, 8, 0, 10, 16, 18, 8, 0, and 20 thousand gallons per hour to Centers 0 through 8, respectively.\n- The flow continues from Center 3 with capacities of 13, 3, 7, 0, 20, 13, 16, 6, and 20 thousand gallons per hour to the respective centers.\n- From Center 4, water can be distributed with capacities of 7, 20, 2, 4, 0, 9, 3, 14, and 2 thousand gallons per hour.\n- Center 5 allows for a distribution flow of 17, 10, 5, 1, 4, 0, 4, 3, and 20 thousand gallons per hour towards the respective centers.\n- The network from Center 6 can support flows of 0, 20, 10, 10, 15, 5, 0, 1, and 10 thousand gallons per hour.\n- From Center 7, water can be directed with capacities of 10, 3, 9, 4, 3, 13, 18, 0, and 20 thousand gallons per hour.\n- Finally, Center 8 can send back or redistribute water with capacities of 2, 12, 10, 5, 15, 14, 0, 10, and 0 thousand gallons per hour to the respective centers.\n\nIn this network, a capacity of \"0\" indicates the absence of a direct channel between two centers, necessitating the redirection of flow through other centers to ensure connectivity.\n\nGiven this complex and dynamic system, the city's water management team faces the challenging task of determining the maximum volume of water that can be efficiently distributed from Distribution Center 0 (the source) to all other centers, culminating at the final node (Center 8) which represents the city's outskirts. This calculation is crucial for optimizing the water supply and meeting the growing needs of the city's population.\n\nWhat is the maximum amount of water (in thousands of gallons per hour) that can be distributed from the source to the outskirts without exceeding the specified capacities of the channels in the network?",
    "sense": "max",
    "version": "v1"
  },
  "sets": [
    {
      "name": "Centers",
      "elements": [
        "0",
        "1",
        "2",
        "3",
        "4",
        "5",
        "6",
        "7",
        "8"
      ],
      "description": "Distribution centers in the water network"
    }
  ],
  "params": [
    {
      "name": "capacity",
      "indices": [
        "Centers",
        "Centers"
      ],
      "values": {
        "0": {
          "1": 9,
          "2": 7,
          "3": 18,
          "4": 0,
          "5": 0,
          "6": 7,
          "7": 0,
          "8": 2,
          "0": 0.0
        },
        "1": {
          "0": 15,
          "2": 11,
          "3": 5,
          "4": 20,
          "5": 15,
          "6": 18,
          "7": 9,
          "8": 15,
          "1": 0.0
        },
        "2": {
          "0": 3,
          "1": 8,
          "3": 0,
          "4": 10,
          "5": 16,
          "6": 18,
          "7": 8,
          "8": 20,
          "2": 0.0
        },
        "3": {
          "0": 13,
          "1": 3,
          "2": 7,
          "4": 20,
          "5": 13,
          "6": 16,
          "7": 6,
          "8": 20,
          "3": 0.0
        },
        "4": {
          "0": 7,
          "1": 20,
          "2": 2,
          "3": 4,
          "5": 9,
          "6": 3,
          "7": 14,
          "8": 2,
          "4": 0.0
        },
        "5": {
          "0": 17,
          "1": 10,
          "2": 5,
          "3": 1,
          "4": 4,
          "6": 4,
          "7": 3,
          "8": 20,
          "5": 0.0
        },
        "6": {
          "0": 0,
          "1": 20,
          "2": 10,
          "3": 10,
          "4": 15,
          "5": 5,
          "7": 1,
          "8": 10,
          "6": 0.0
        },
        "7": {
          "0": 10,
          "1": 3,
          "2": 9,
          "3": 4,
          "4": 3,
          "5": 13,
          "6": 18,
          "8": 20,
          "7": 0.0
        },
        "8": {
          "0": 2,
          "1": 12,
          "2": 10,
          "3": 5,
          "4": 15,
          "5": 14,
          "6": 0,
          "7": 10,
          "8": 0.0
        }
      },
      "description": "Capacity of channels between centers in thousands of gallons per hour"
    }
  ],
  "vars": [
    {
      "name": "flow",
      "indices": [
        "Centers",
        "Centers"
      ],
      "vartype": "continuous",
      "lb": 0.0,
      "ub": null,
      "description": "Flow of water between centers in thousands of gallons per hour"
    }
  ],
  "objective": {
    "name": "max_flow",
    "sense": "max",
    "expr": "quicksum(flow['0'][j] for j in Centers if j != '0')",
    "description": "Maximize the flow from source (Center 0) to sink (Center 8)"
  },
  "constraints": [
    {
      "name": "capacity_constraint_0_1",
      "expr_lhs": "flow['0']['1']",
      "sense": "<=",
      "expr_rhs": "capacity['0']['1']",
      "description": "Capacity constraint for flow from Center 0 to Center 1"
    },
    {
      "name": "capacity_constraint_0_2",
      "expr_lhs": "flow['0']['2']",
      "sense": "<=",
      "expr_rhs": "capacity['0']['2']",
      "description": "Capacity constraint for flow from Center 0 to Center 2"
    },
    {
      "name": "capacity_constraint_0_3",
      "expr_lhs": "flow['0']['3']",
      "sense": "<=",
      "expr_rhs": "capacity['0']['3']",
      "description": "Capacity constraint for flow from Center 0 to Center 3"
    },
    {
      "name": "capacity_constraint_0_4",
      "expr_lhs": "flow['0']['4']",
      "sense": "<=",
      "expr_rhs": "capacity['0']['4']",
      "description": "Capacity constraint for flow from Center 0 to Center 4"
    },
    {
      "name": "capacity_constraint_0_5",
      "expr_lhs": "flow['0']['5']",
      "sense": "<=",
      "expr_rhs": "capacity['0']['5']",
      "description": "Capacity constraint for flow from Center 0 to Center 5"
    },
    {
      "name": "capacity_constraint_0_6",
      "expr_lhs": "flow['0']['6']",
      "sense": "<=",
      "expr_rhs": "capacity['0']['6']",
      "description": "Capacity constraint for flow from Center 0 to Center 6"
    },
    {
      "name": "capacity_constraint_0_7",
      "expr_lhs": "flow['0']['7']",
      "sense": "<=",
      "expr_rhs": "capacity['0']['7']",
      "description": "Capacity constraint for flow from Center 0 to Center 7"
    },
    {
      "name": "capacity_constraint_0_8",
      "expr_lhs": "flow['0']['8']",
      "sense": "<=",
      "expr_rhs": "capacity['0']['8']",
      "description": "Capacity constraint for flow from Center 0 to Center 8"
    },
    {
      "name": "flow_conservation_1",
      "expr_lhs": "quicksum(flow['1'][j] for j in Centers if j != '1')",
      "sense": "==",
      "expr_rhs": "quicksum(flow[i]['1'] for i in Centers if i != '1')",
      "description": "Flow conservation at Center 1"
    },
    {
      "name": "flow_conservation_2",
      "expr_lhs": "quicksum(flow['2'][j] for j in Centers if j != '2')",
      "sense": "==",
      "expr_rhs": "quicksum(flow[i]['2'] for i in Centers if i != '2')",
      "description": "Flow conservation at Center 2"
    },
    {
      "name": "flow_conservation_3",
      "expr_lhs": "quicksum(flow['3'][j] for j in Centers if j != '3')",
      "sense": "==",
      "expr_rhs": "quicksum(flow[i]['3'] for i in Centers if i != '3')",
      "description": "Flow conservation at Center 3"
    },
    {
      "name": "flow_conservation_4",
      "expr_lhs": "quicksum(flow['4'][j] for j in Centers if j != '4')",
      "sense": "==",
      "expr_rhs": "quicksum(flow[i]['4'] for i in Centers if i != '4')",
      "description": "Flow conservation at Center 4"
    },
    {
      "name": "flow_conservation_5",
      "expr_lhs": "quicksum(flow['5'][j] for j in Centers if j != '5')",
      "sense": "==",
      "expr_rhs": "quicksum(flow[i]['5'] for i in Centers if i != '5')",
      "description": "Flow conservation at Center 5"
    },
    {
      "name": "flow_conservation_6",
      "expr_lhs": "quicksum(flow['6'][j] for j in Centers if j != '6')",
      "sense": "==",
      "expr_rhs": "quicksum(flow[i]['6'] for i in Centers if i != '6')",
      "description": "Flow conservation at Center 6"
    },
    {
      "name": "flow_conservation_7",
      "expr_lhs": "quicksum(flow['7'][j] for j in Centers if j != '7')",
      "sense": "==",
      "expr_rhs": "quicksum(flow[i]['7'] for i in Centers if i != '7')",
      "description": "Flow conservation at Center 7"
    }
  ]
}