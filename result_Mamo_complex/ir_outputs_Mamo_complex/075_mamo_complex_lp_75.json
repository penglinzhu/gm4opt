{
  "meta": {
    "problem_id": "mamo_complex_lp_75",
    "source": "Mamo_complex_lp",
    "description": "In the quest to streamline its distribution network, MarketFlow Inc. is faced with a critical decision regarding the allocation of resources to efficiently supply six retail stores. The company has narrowed down its options to four potential distribution centers, each with distinct opening costs and capabilities. The challenge lies in selecting the right mix of distribution centers and determining the optimal transportation routes to ensure that the demands of all retail stores are met at the lowest possible total cost. This cost encompasses both the opening expenses of the distribution centers and the costs associated with transporting goods to the stores.\n\nGiven Data:\n- Number of Potential Distribution Centers: 4\n- Number of Retail Stores Needing Supply: 6\n\nOpening Costs for Each Distribution Center (in dollars):\n- Center 1: $151,000\n- Center 2: $192,000\n- Center 3: $114,000\n- Center 4: $171,000\n\nTransportation Cost Per Unit from Each Distribution Center to Retail Stores (in dollars):\n- From Center 1: $5 to Store 1, $5 to Store 2, $2 to Store 3, $3 to Store 4, $3 to Store 5, $3 to Store 6\n- From Center 2: $5 to Store 1, $4 to Store 2, $3 to Store 3, $5 to Store 4, $2 to Store 5, $4 to Store 6\n- From Center 3: $2 to Store 1, $4 to Store 2, $5 to Store 3, $1 to Store 4, $4 to Store 5, $2 to Store 6\n- From Center 4: $5 to Store 1, $4 to Store 2, $1 to Store 3, $1 to Store 4, $3 to Store 5, $3 to Store 6\n\nDemand of Each Retail Store (in units):\n- Store 1: 910\n- Store 2: 875\n- Store 3: 589\n- Store 4: 962\n- Store 5: 966\n- Store 6: 643\n\nSupply Capacity of Each Distribution Center (in units):\n- Center 1: 1631\n- Center 2: 1954\n- Center 3: 1446\n- Center 4: 820\n\nMarketFlow Inc.'s objective is to fulfill the demand at each of its six retail stores efficiently while minimizing the total expenditure incurred from opening distribution centers and transporting goods. This scenario requires a strategic allocation of resources that entails choosing which distribution centers to open and determining the volume of goods to be transported from these centers to each retail store, all while staying within the supply constraints of the centers.\n\nQuestion:\nWhat is the optimal total cost for MarketFlow Inc. to open the necessary distribution centers and transport goods to all six retail stores, thereby meeting their demands while ensuring the cost is minimized, including both the opening costs of the centers and the transportation costs of supplying the stores?",
    "sense": "min",
    "version": "v1"
  },
  "sets": [
    {
      "name": "Centers",
      "elements": [
        "1",
        "2",
        "3",
        "4"
      ],
      "description": "Potential distribution centers"
    },
    {
      "name": "Stores",
      "elements": [
        "1",
        "2",
        "3",
        "4",
        "5",
        "6"
      ],
      "description": "Retail stores needing supply"
    }
  ],
  "params": [
    {
      "name": "opening_cost",
      "indices": [
        "Centers"
      ],
      "values": {
        "1": 151000,
        "2": 192000,
        "3": 114000,
        "4": 171000
      },
      "description": "Opening costs for each distribution center"
    },
    {
      "name": "transport_cost",
      "indices": [
        "Centers",
        "Stores"
      ],
      "values": {
        "1": {
          "1": 5,
          "2": 5,
          "3": 2,
          "4": 3,
          "5": 3,
          "6": 3
        },
        "2": {
          "1": 5,
          "2": 4,
          "3": 3,
          "4": 5,
          "5": 2,
          "6": 4
        },
        "3": {
          "1": 2,
          "2": 4,
          "3": 5,
          "4": 1,
          "5": 4,
          "6": 2
        },
        "4": {
          "1": 5,
          "2": 4,
          "3": 1,
          "4": 1,
          "5": 3,
          "6": 3
        }
      },
      "description": "Transportation cost per unit from each center to each store"
    },
    {
      "name": "demand",
      "indices": [
        "Stores"
      ],
      "values": {
        "1": 910,
        "2": 875,
        "3": 589,
        "4": 962,
        "5": 966,
        "6": 643
      },
      "description": "Demand of each retail store"
    },
    {
      "name": "capacity",
      "indices": [
        "Centers"
      ],
      "values": {
        "1": 1631,
        "2": 1954,
        "3": 1446,
        "4": 820
      },
      "description": "Supply capacity of each distribution center"
    }
  ],
  "vars": [
    {
      "name": "y",
      "indices": [
        "Centers"
      ],
      "vartype": "binary",
      "lb": 0,
      "ub": 1,
      "description": "Binary variable indicating if a center is opened"
    },
    {
      "name": "x",
      "indices": [
        "Centers",
        "Stores"
      ],
      "vartype": "integer",
      "lb": 0,
      "ub": null,
      "description": "Units transported from center to store"
    }
  ],
  "objective": {
    "name": "total_cost",
    "sense": "min",
    "expr": "quicksum(opening_cost[c] * y[c] for c in Centers) + quicksum(transport_cost[c][s] * x[c][s] for c in Centers for s in Stores)",
    "description": "Minimize total cost of opening centers and transporting goods"
  },
  "constraints": [
    {
      "name": "demand_s1",
      "expr_lhs": "quicksum(x[c]['1'] for c in Centers)",
      "sense": ">=",
      "expr_rhs": "demand['1']",
      "description": "Meet demand for store 1"
    },
    {
      "name": "demand_s2",
      "expr_lhs": "quicksum(x[c]['2'] for c in Centers)",
      "sense": ">=",
      "expr_rhs": "demand['2']",
      "description": "Meet demand for store 2"
    },
    {
      "name": "demand_s3",
      "expr_lhs": "quicksum(x[c]['3'] for c in Centers)",
      "sense": ">=",
      "expr_rhs": "demand['3']",
      "description": "Meet demand for store 3"
    },
    {
      "name": "demand_s4",
      "expr_lhs": "quicksum(x[c]['4'] for c in Centers)",
      "sense": ">=",
      "expr_rhs": "demand['4']",
      "description": "Meet demand for store 4"
    },
    {
      "name": "demand_s5",
      "expr_lhs": "quicksum(x[c]['5'] for c in Centers)",
      "sense": ">=",
      "expr_rhs": "demand['5']",
      "description": "Meet demand for store 5"
    },
    {
      "name": "demand_s6",
      "expr_lhs": "quicksum(x[c]['6'] for c in Centers)",
      "sense": ">=",
      "expr_rhs": "demand['6']",
      "description": "Meet demand for store 6"
    },
    {
      "name": "capacity_c1",
      "expr_lhs": "quicksum(x['1'][s] for s in Stores)",
      "sense": "<=",
      "expr_rhs": "capacity['1'] * y['1']",
      "description": "Capacity constraint for center 1"
    },
    {
      "name": "capacity_c2",
      "expr_lhs": "quicksum(x['2'][s] for s in Stores)",
      "sense": "<=",
      "expr_rhs": "capacity['2'] * y['2']",
      "description": "Capacity constraint for center 2"
    },
    {
      "name": "capacity_c3",
      "expr_lhs": "quicksum(x['3'][s] for s in Stores)",
      "sense": "<=",
      "expr_rhs": "capacity['3'] * y['3']",
      "description": "Capacity constraint for center 3"
    },
    {
      "name": "capacity_c4",
      "expr_lhs": "quicksum(x['4'][s] for s in Stores)",
      "sense": "<=",
      "expr_rhs": "capacity['4'] * y['4']",
      "description": "Capacity constraint for center 4"
    }
  ]
}