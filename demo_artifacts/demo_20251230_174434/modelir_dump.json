{
  "meta": {
    "problem_id": "factory_production_plan",
    "source": null,
    "description": "Determine the optimal production plan to maximize the profit for the factory producing three types of products using different equipment.",
    "sense": "max",
    "version": 1
  },
  "sets": [
    {
      "name": "PRODUCTS",
      "elements": [
        "I",
        "II",
        "III"
      ],
      "description": "Types of products produced by the factory."
    },
    {
      "name": "EQUIPMENT_A",
      "elements": [
        "A1",
        "A2"
      ],
      "description": "Types of equipment for processing step A."
    },
    {
      "name": "EQUIPMENT_B",
      "elements": [
        "B1",
        "B2",
        "B3"
      ],
      "description": "Types of equipment for processing step B."
    }
  ],
  "params": [
    {
      "name": "processing_time",
      "indices": [
        "EQUIPMENT_A",
        "PRODUCTS"
      ],
      "values": {
        "A1": {
          "I": 5,
          "II": 10,
          "III": null
        },
        "A2": {
          "I": 7,
          "II": 9,
          "III": 12
        }
      },
      "description": "Unit processing time for each product on each type of A equipment."
    },
    {
      "name": "processing_time_b",
      "indices": [
        "EQUIPMENT_B",
        "PRODUCTS"
      ],
      "values": {
        "B1": {
          "I": 6,
          "II": 8,
          "III": null
        },
        "B2": {
          "I": 4,
          "II": null,
          "III": 11
        },
        "B3": {
          "I": 7,
          "II": null,
          "III": null
        }
      },
      "description": "Unit processing time for each product on each type of B equipment."
    },
    {
      "name": "equipment_available_time",
      "indices": [
        "EQUIPMENT_A",
        "EQUIPMENT_B"
      ],
      "values": {
        "A1": 10000,
        "A2": 4000,
        "B1": 7000,
        "B2": 4000,
        "B3": 6000
      },
      "description": "Available time for each type of equipment."
    },
    {
      "name": "equipment_cost",
      "indices": [
        "EQUIPMENT_A",
        "EQUIPMENT_B"
      ],
      "values": {
        "A1": 321,
        "A2": 250,
        "B1": 783,
        "B2": 200,
        "B3": 300
      },
      "description": "Equipment cost at full load for each type of equipment."
    },
    {
      "name": "raw_material_cost",
      "indices": [
        "PRODUCTS"
      ],
      "values": {
        "I": 0.25,
        "II": 0.35,
        "III": 0.5
      },
      "description": "Raw material cost per unit for each product."
    },
    {
      "name": "unit_price",
      "indices": [
        "PRODUCTS"
      ],
      "values": {
        "I": 1.25,
        "II": 2.0,
        "III": 2.8
      },
      "description": "Selling price per unit for each product."
    }
  ],
  "vars": [
    {
      "name": "x",
      "indices": [
        "PRODUCTS",
        "EQUIPMENT_A"
      ],
      "vartype": "integer",
      "lb": 0,
      "ub": null,
      "description": "Number of units of each product processed on each type of A equipment."
    },
    {
      "name": "y",
      "indices": [
        "PRODUCTS",
        "EQUIPMENT_B"
      ],
      "vartype": "integer",
      "lb": 0,
      "ub": null,
      "description": "Number of units of each product processed on each type of B equipment."
    }
  ],
  "objective": {
    "name": "max_profit",
    "sense": "max",
    "expr": "sum((unit_price[p] - raw_material_cost[p]) * (sum(x[p][a] for a in EQUIPMENT_A) + sum(y[p][b] for b in EQUIPMENT_B)) - sum(equipment_cost[a] for a in EQUIPMENT_A) - sum(equipment_cost[b] for b in EQUIPMENT_B) for p in PRODUCTS)",
    "description": "Maximize the profit by considering the selling price, raw material cost, and equipment cost."
  },
  "constraints": [
    {
      "name": "equipment_a_time_I_A1",
      "expr_lhs": "x['I']['A1'] * processing_time['A1']['I']",
      "sense": "<=",
      "expr_rhs": "equipment_available_time['A1']",
      "description": "Time constraint for product I on equipment A1."
    },
    {
      "name": "equipment_a_time_I_A2",
      "expr_lhs": "x['I']['A2'] * processing_time['A2']['I']",
      "sense": "<=",
      "expr_rhs": "equipment_available_time['A2']",
      "description": "Time constraint for product I on equipment A2."
    },
    {
      "name": "equipment_a_time_II_A1",
      "expr_lhs": "x['II']['A1'] * processing_time['A1']['II']",
      "sense": "<=",
      "expr_rhs": "equipment_available_time['A1']",
      "description": "Time constraint for product II on equipment A1."
    },
    {
      "name": "equipment_a_time_II_A2",
      "expr_lhs": "x['II']['A2'] * processing_time['A2']['II']",
      "sense": "<=",
      "expr_rhs": "equipment_available_time['A2']",
      "description": "Time constraint for product II on equipment A2."
    },
    {
      "name": "equipment_a_time_III_A2",
      "expr_lhs": "x['III']['A2'] * processing_time['A2']['III']",
      "sense": "<=",
      "expr_rhs": "equipment_available_time['A2']",
      "description": "Time constraint for product III on equipment A2."
    },
    {
      "name": "equipment_b_time_I_B1",
      "expr_lhs": "y['I']['B1'] * processing_time_b['B1']['I']",
      "sense": "<=",
      "expr_rhs": "equipment_available_time['B1']",
      "description": "Time constraint for product I on equipment B1."
    },
    {
      "name": "equipment_b_time_I_B2",
      "expr_lhs": "y['I']['B2'] * processing_time_b['B2']['I']",
      "sense": "<=",
      "expr_rhs": "equipment_available_time['B2']",
      "description": "Time constraint for product I on equipment B2."
    },
    {
      "name": "equipment_b_time_I_B3",
      "expr_lhs": "y['I']['B3'] * processing_time_b['B3']['I']",
      "sense": "<=",
      "expr_rhs": "equipment_available_time['B3']",
      "description": "Time constraint for product I on equipment B3."
    },
    {
      "name": "equipment_b_time_II_B1",
      "expr_lhs": "y['II']['B1'] * processing_time_b['B1']['II']",
      "sense": "<=",
      "expr_rhs": "equipment_available_time['B1']",
      "description": "Time constraint for product II on equipment B1."
    },
    {
      "name": "equipment_b_time_III_B2",
      "expr_lhs": "y['III']['B2'] * processing_time_b['B2']['III']",
      "sense": "<=",
      "expr_rhs": "equipment_available_time['B2']",
      "description": "Time constraint for product III on equipment B2."
    }
  ]
}