{
  "meta": {
    "problem_id": "industryOR_40",
    "source": "IndustryOR",
    "description": "A factory produces three products, I, II, and III. Each product goes through two processing procedures, A and B. The factory has two types of equipment, A1 and A2, to complete procedure A, and three types of equipment, B1, B2, and B3, to complete procedure B. Product I can be processed on either type of A equipment or any type of B equipment. Product II can be processed on any type of A equipment, but when completing procedure B, it can only be processed on B1 equipment. Product III can only be processed on A2 and B2 equipment. Given the processing time, raw material cost, product selling price, available equipment operating time, and equipment cost at full load for each type of equipment, as shown in Table 1-4, determine the optimal production plan to maximize profit.\n\nTable 1-4\n\\begin{tabular}{|c|c|c|c|c|c|}\n\\hline \\multirow{2}{*}{ Equipment } & \\multicolumn{3}{|c|}{ Product } & \\multirow{2}{*}{ Available Equipment Operating Time } & \\multirow{2}{*}{ Equipment Cost at Full Load (in yuan) } \\\\\n\\cline { 2 - 4 } & I & II & III & & \\\\\n\\hline$A_1$ & 5 & 10 & & 6000 & 300 \\\\\n\\hline$A_2$ & 7 & 9 & 12 & 10000 & 321 \\\\\n\\hline$B_1$ & 6 & 8 & & 4000 & 250 \\\\\n\\hline$B_2$ & 4 & & 11 & 7000 & 783 \\\\\n\\hline$B_3$ & 7 & & & 4000 & 200 \\\\\n\\hline Raw Material Cost (in yuan per unit) & 0.25 & 0.35 & 0.50 & & \\\\\n\\hline Unit Price (in yuan per unit) & 1.25 & 2.00 & 2.80 & & \\\\\n\\hline\n\\end{tabular}",
    "sense": "max",
    "version": "v1"
  },
  "sets": [
    {
      "name": "Products",
      "elements": [
        "I",
        "II",
        "III"
      ],
      "description": "Set of products"
    },
    {
      "name": "EquipmentA",
      "elements": [
        "A1",
        "A2"
      ],
      "description": "Set of equipment for procedure A"
    },
    {
      "name": "EquipmentB",
      "elements": [
        "B1",
        "B2",
        "B3"
      ],
      "description": "Set of equipment for procedure B"
    }
  ],
  "params": [
    {
      "name": "processing_time_A",
      "indices": [
        "EquipmentA",
        "Products"
      ],
      "values": {
        "A1": {
          "I": 5,
          "II": 10,
          "III": 0
        },
        "A2": {
          "I": 7,
          "II": 9,
          "III": 12
        }
      },
      "description": "Processing time for procedure A"
    },
    {
      "name": "processing_time_B",
      "indices": [
        "EquipmentB",
        "Products"
      ],
      "values": {
        "B1": {
          "I": 6,
          "II": 8,
          "III": 0
        },
        "B2": {
          "I": 4,
          "II": 0,
          "III": 11
        },
        "B3": {
          "I": 7,
          "II": 0,
          "III": 0
        }
      },
      "description": "Processing time for procedure B"
    },
    {
      "name": "available_time",
      "indices": [
        "EquipmentA",
        "EquipmentB"
      ],
      "values": {
        "A1": 6000,
        "A2": 10000,
        "B1": 4000,
        "B2": 7000,
        "B3": 4000
      },
      "description": "Available equipment operating time"
    },
    {
      "name": "equipment_cost",
      "indices": [
        "EquipmentA",
        "EquipmentB"
      ],
      "values": {
        "A1": 300,
        "A2": 321,
        "B1": 250,
        "B2": 783,
        "B3": 200
      },
      "description": "Equipment cost at full load"
    },
    {
      "name": "raw_material_cost",
      "indices": [
        "Products"
      ],
      "values": {
        "I": 0.25,
        "II": 0.35,
        "III": 0.5
      },
      "description": "Raw material cost per unit"
    },
    {
      "name": "unit_price",
      "indices": [
        "Products"
      ],
      "values": {
        "I": 1.25,
        "II": 2.0,
        "III": 2.8
      },
      "description": "Unit selling price"
    }
  ],
  "vars": [
    {
      "name": "x_A",
      "indices": [
        "EquipmentA",
        "Products"
      ],
      "vartype": "integer",
      "lb": 0,
      "ub": null,
      "description": "Units of product processed on equipment A"
    },
    {
      "name": "x_B",
      "indices": [
        "EquipmentB",
        "Products"
      ],
      "vartype": "integer",
      "lb": 0,
      "ub": null,
      "description": "Units of product processed on equipment B"
    }
  ],
  "objective": {
    "name": "profit",
    "sense": "max",
    "expr": "quicksum((unit_price[p] - raw_material_cost[p]) * (quicksum(x_A[a][p] for a in EquipmentA) + quicksum(x_B[b][p] for b in EquipmentB)) for p in Products) - quicksum(equipment_cost[a] * quicksum(x_A[a][p] * processing_time_A[a][p] for p in Products) for a in EquipmentA) - quicksum(equipment_cost[b] * quicksum(x_B[b][p] * processing_time_B[b][p] for p in Products) for b in EquipmentB)",
    "description": "Maximize profit"
  },
  "constraints": [
    {
      "name": "time_A1",
      "expr_lhs": "quicksum(x_A['A1'][p] * processing_time_A['A1'][p] for p in Products)",
      "sense": "<=",
      "expr_rhs": "available_time['A1']",
      "description": "Time constraint for equipment A1"
    },
    {
      "name": "time_A2",
      "expr_lhs": "quicksum(x_A['A2'][p] * processing_time_A['A2'][p] for p in Products)",
      "sense": "<=",
      "expr_rhs": "available_time['A2']",
      "description": "Time constraint for equipment A2"
    },
    {
      "name": "time_B1",
      "expr_lhs": "quicksum(x_B['B1'][p] * processing_time_B['B1'][p] for p in Products)",
      "sense": "<=",
      "expr_rhs": "available_time['B1']",
      "description": "Time constraint for equipment B1"
    },
    {
      "name": "time_B2",
      "expr_lhs": "quicksum(x_B['B2'][p] * processing_time_B['B2'][p] for p in Products)",
      "sense": "<=",
      "expr_rhs": "available_time['B2']",
      "description": "Time constraint for equipment B2"
    },
    {
      "name": "time_B3",
      "expr_lhs": "quicksum(x_B['B3'][p] * processing_time_B['B3'][p] for p in Products)",
      "sense": "<=",
      "expr_rhs": "available_time['B3']",
      "description": "Time constraint for equipment B3"
    },
    {
      "name": "product_I_A",
      "expr_lhs": "x_A['A1']['I'] + x_A['A2']['I']",
      "sense": "==",
      "expr_rhs": "quicksum(x_B[b]['I'] for b in EquipmentB)",
      "description": "Balance for product I between A and B"
    },
    {
      "name": "product_II_A",
      "expr_lhs": "x_A['A1']['II'] + x_A['A2']['II']",
      "sense": "==",
      "expr_rhs": "x_B['B1']['II']",
      "description": "Balance for product II between A and B"
    },
    {
      "name": "product_III_A",
      "expr_lhs": "x_A['A2']['III']",
      "sense": "==",
      "expr_rhs": "x_B['B2']['III']",
      "description": "Balance for product III between A and B"
    }
  ]
}