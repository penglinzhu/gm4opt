{
  "meta": {
    "problem_id": "industryOR_38",
    "source": "IndustryOR",
    "description": "Traveling Salesman Problem (TSP) with Specific Values\\n\\nThe famous traveling salesman problem in operations research can be described as follows: a traveling salesman starts from a certain city and goes to visit other \\( n \\) cities to sell goods. It is required to visit each city exactly once and then return to the original starting city. The distance between city \\( i \\) and city \\( j \\) is given as \\( d_{ij} \\). What kind of route sequence should the salesman choose to minimize the total travel distance?\\n\\nWe will establish an integer programming model for this problem using specific values for the number of cities and distances between them. Let's assume there are 5 cities (including the starting city) and the distance matrix \\( D \\) is given as follows:\\n\\n\\[\\nD = \\begin{bmatrix}\\n0 & 10 & 15 & 20 & 25 \\\\\\n10 & 0 & 35 & 25 & 30 \\\\\\n15 & 35 & 0 & 30 & 20 \\\\\\n20 & 25 & 30 & 0 & 15 \\\\\\n25 & 30 & 20 & 15 & 0\\n\\end{bmatrix}\\n\\",
    "sense": "min",
    "version": "v1"
  },
  "sets": [
    {
      "name": "Cities",
      "elements": [
        "0",
        "1",
        "2",
        "3",
        "4"
      ],
      "description": "Set of cities including the starting city"
    }
  ],
  "params": [
    {
      "name": "d",
      "indices": [
        "Cities",
        "Cities"
      ],
      "values": {
        "0": {
          "0": 0,
          "1": 10,
          "2": 15,
          "3": 20,
          "4": 25
        },
        "1": {
          "0": 10,
          "1": 0,
          "2": 35,
          "3": 25,
          "4": 30
        },
        "2": {
          "0": 15,
          "1": 35,
          "2": 0,
          "3": 30,
          "4": 20
        },
        "3": {
          "0": 20,
          "1": 25,
          "2": 30,
          "3": 0,
          "4": 15
        },
        "4": {
          "0": 25,
          "1": 30,
          "2": 20,
          "3": 15,
          "4": 0
        }
      },
      "description": "Distance matrix between cities"
    }
  ],
  "vars": [
    {
      "name": "x",
      "indices": [
        "Cities",
        "Cities"
      ],
      "vartype": "binary",
      "lb": 0,
      "ub": 1,
      "description": "1 if the path between city i and city j is used, 0 otherwise"
    },
    {
      "name": "u",
      "indices": [
        "Cities"
      ],
      "vartype": "integer",
      "lb": 0,
      "ub": 4,
      "description": "Subtour elimination variable"
    }
  ],
  "objective": {
    "name": "minimize_distance",
    "sense": "min",
    "expr": "quicksum(d[i][j] * x[i][j] for i in Cities for j in Cities)",
    "description": "Minimize the total travel distance"
  },
  "constraints": [
    {
      "name": "visit_each_city_once_0",
      "expr_lhs": "quicksum(x['0'][j] for j in Cities if j != '0')",
      "sense": "==",
      "expr_rhs": "1",
      "description": "Leave city 0 exactly once"
    },
    {
      "name": "visit_each_city_once_1",
      "expr_lhs": "quicksum(x['1'][j] for j in Cities if j != '1')",
      "sense": "==",
      "expr_rhs": "1",
      "description": "Leave city 1 exactly once"
    },
    {
      "name": "visit_each_city_once_2",
      "expr_lhs": "quicksum(x['2'][j] for j in Cities if j != '2')",
      "sense": "==",
      "expr_rhs": "1",
      "description": "Leave city 2 exactly once"
    },
    {
      "name": "visit_each_city_once_3",
      "expr_lhs": "quicksum(x['3'][j] for j in Cities if j != '3')",
      "sense": "==",
      "expr_rhs": "1",
      "description": "Leave city 3 exactly once"
    },
    {
      "name": "visit_each_city_once_4",
      "expr_lhs": "quicksum(x['4'][j] for j in Cities if j != '4')",
      "sense": "==",
      "expr_rhs": "1",
      "description": "Leave city 4 exactly once"
    },
    {
      "name": "enter_each_city_once_0",
      "expr_lhs": "quicksum(x[i]['0'] for i in Cities if i != '0')",
      "sense": "==",
      "expr_rhs": "1",
      "description": "Enter city 0 exactly once"
    },
    {
      "name": "enter_each_city_once_1",
      "expr_lhs": "quicksum(x[i]['1'] for i in Cities if i != '1')",
      "sense": "==",
      "expr_rhs": "1",
      "description": "Enter city 1 exactly once"
    },
    {
      "name": "enter_each_city_once_2",
      "expr_lhs": "quicksum(x[i]['2'] for i in Cities if i != '2')",
      "sense": "==",
      "expr_rhs": "1",
      "description": "Enter city 2 exactly once"
    },
    {
      "name": "enter_each_city_once_3",
      "expr_lhs": "quicksum(x[i]['3'] for i in Cities if i != '3')",
      "sense": "==",
      "expr_rhs": "1",
      "description": "Enter city 3 exactly once"
    },
    {
      "name": "enter_each_city_once_4",
      "expr_lhs": "quicksum(x[i]['4'] for i in Cities if i != '4')",
      "sense": "==",
      "expr_rhs": "1",
      "description": "Enter city 4 exactly once"
    },
    {
      "name": "subtour_elimination_1",
      "expr_lhs": "u['1'] - u['0'] + 5 * x['0']['1']",
      "sense": "<=",
      "expr_rhs": "4",
      "description": "Subtour elimination constraint for city 1"
    },
    {
      "name": "subtour_elimination_2",
      "expr_lhs": "u['2'] - u['0'] + 5 * x['0']['2']",
      "sense": "<=",
      "expr_rhs": "4",
      "description": "Subtour elimination constraint for city 2"
    },
    {
      "name": "subtour_elimination_3",
      "expr_lhs": "u['3'] - u['0'] + 5 * x['0']['3']",
      "sense": "<=",
      "expr_rhs": "4",
      "description": "Subtour elimination constraint for city 3"
    },
    {
      "name": "subtour_elimination_4",
      "expr_lhs": "u['4'] - u['0'] + 5 * x['0']['4']",
      "sense": "<=",
      "expr_rhs": "4",
      "description": "Subtour elimination constraint for city 4"
    }
  ]
}