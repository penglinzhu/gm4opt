{
  "meta": {
    "problem_id": "industryOR_31",
    "source": "IndustryOR",
    "description": "As one of the main arteries of urban transportation, the city subway carries a huge passenger flow and its operation and management are very complex. Among them, crew scheduling is one of the key links in subway operation management and also the starting point and difficulty of crew management. The subway transportation volume is large, with complex and changing routes, and frequent operation intervals. Crew drivers face huge, continuous, and high-intensity transportation tasks. It is important to arrange the driver's shift and duty mode reasonably and achieve the optimal allocation of personnel to ensure the efficient and stable operation of the subway. Due to the increasing complexity of the subway operation network, traditional manual scheduling methods can no longer meet the high standard operation requirements. Automated and intelligent crew scheduling has become an inevitable trend.\n\nThe general process of crew scheduling for subway operating companies is as follows: export train operation section and time information tables based on the current operation chart, manually divide the crew duty roster based on these information tables, compile the crew scheduling master table based on the duty roster, and finally allocate the crew groups based on the scheduling master table to form the final scheduling table. The entire process relies on manual compilation and mainly has the following three major problems:\n\n1. Low scheduling efficiency: Crew scheduling business rules are complex, and the workload is large. The efficiency of manual compilation is very low, requiring at least one week. The manpower and time costs are high.\n\n2. Difficulty in adjustment: When encountering unexpected situations such as train failures and temporary leave of crew members, it is difficult to quickly adjust the scheduling plan based on manual methods, affecting the efficiency of operation management.\n\n3. Uneven task assignment: Manual scheduling has subjective limitations and strong dependence on human experience. If the scheduling is unreasonable, it may lead to uneven task assignment, unfair scheduling, and low crew satisfaction.\n\nThis subway line includes 40 platforms, among which A, M, and Z platforms are available for driver transfers and handovers. Please consider 200 driving tasks and their attributes such as time, location, and mileage, and consider classic constraints in crew scheduling scenarios, such as maximum continuous driving time constraint, mileage limit constraint, attendance location constraint, etc. Compare different mixed integer modeling methods to minimize the number of drivers as the goal and output the optimal task chain combination (i.e. the allocation and connection relationship of all tasks) for all tasks.\n\n### Example\nMileage Information Table.csv = \\\"\"\"\nDeparture Station,Arrival Station,Mileage\nA,M,17.1\nZ,M,26.4\n\\\"\"\"\n\nTask Information Table.csv = \\\"\"\"\nTrain Number,Train ID,Pickup Time,Pickup Location,Drop-off Time,Drop-off Location\n331,M16,10:03:11,M,10:57:43,Z\n1,L06,10:03:43,Z,10:58:32,M\n163,N23,10:04:10,A,10:39:11,M\n332,N27,10:04:32,M,10:40:10,A\n333,N20,10:09:11,M,11:03:43,Z\n2,L07,10:09:43,Z,11:04:32,M\n164,L11,10:10:10,A,10:45:11,M\n334,L01,10:10:32,M,10:46:10,A\n335,M17,10:15:11,M,11:09:43,Z\n3,M13,10:15:43,Z,11:10:32,M\n165,N24,10:16:10,A,10:51:11,M\n336,N28,10:16:32,M,10:52:10,A\n337,N21,10:21:11,M,11:15:43,Z\n4,L08,10:21:43,Z,11:16:32,M\n166,N25,10:22:10,A,10:57:11,M\n338,L02,10:22:32,M,10:58:10,A\n339,M18,10:27:11,M,11:21:43,Z\n5,M14,10:27:43,Z,11:22:32,M\n167,N26,10:28:10,A,11:03:11,M\n340,L03,10:28:32,M,11:04:10,A\n341,N22,10:33:11,M,11:27:43,Z\n6,L09,10:33:43,Z,11:28:32,M\n168,L12,10:34:10,A,11:09:11,M\n342,N29,10:34:32,M,11:10:10,A\n343,N23,10:39:11,M,11:33:43,Z\n7,M15,10:39:43,Z,11:34:32,M\n169,N27,10:40:10,A,11:15:11,M\n344,L04,10:40:32,M,11:16:10,A\n345,L11,10:45:11,M,11:39:43,Z\n8,N19,10:45:43,Z,11:40:32,M\n170,L01,10:46:10,A,11:21:11,M\n346,L05,10:46:32,M,11:22:10,A\n347,N24,10:51:11,M,11:45:43,Z\n9,L10,10:51:43,Z,11:46:32,M\n171,N",
    "sense": "min",
    "version": "v1"
  },
  "sets": [
    {
      "name": "Tasks",
      "elements": [
        "1",
        "2",
        "3",
        "4",
        "5",
        "6",
        "7",
        "8",
        "9",
        "10",
        "11",
        "12",
        "13",
        "14",
        "15",
        "16",
        "17",
        "18",
        "19",
        "20",
        "21",
        "22",
        "23",
        "24",
        "25",
        "26",
        "27",
        "28",
        "29",
        "30",
        "31",
        "32",
        "33",
        "34",
        "35",
        "36",
        "37",
        "38",
        "39",
        "40",
        "41",
        "42",
        "43",
        "44",
        "45",
        "46",
        "47",
        "48",
        "49",
        "50",
        "51",
        "52",
        "53",
        "54",
        "55",
        "56",
        "57",
        "58",
        "59",
        "60",
        "61",
        "62",
        "63",
        "64",
        "65",
        "66",
        "67",
        "68",
        "69",
        "70",
        "71",
        "72",
        "73",
        "74",
        "75",
        "76",
        "77",
        "78",
        "79",
        "80",
        "81",
        "82",
        "83",
        "84",
        "85",
        "86",
        "87",
        "88",
        "89",
        "90",
        "91",
        "92",
        "93",
        "94",
        "95",
        "96",
        "97",
        "98",
        "99",
        "100",
        "101",
        "102",
        "103",
        "104",
        "105",
        "106",
        "107",
        "108",
        "109",
        "110",
        "111",
        "112",
        "113",
        "114",
        "115",
        "116",
        "117",
        "118",
        "119",
        "120",
        "121",
        "122",
        "123",
        "124",
        "125",
        "126",
        "127",
        "128",
        "129",
        "130",
        "131",
        "132",
        "133",
        "134",
        "135",
        "136",
        "137",
        "138",
        "139",
        "140",
        "141",
        "142",
        "143",
        "144",
        "145",
        "146",
        "147",
        "148",
        "149",
        "150",
        "151",
        "152",
        "153",
        "154",
        "155",
        "156",
        "157",
        "158",
        "159",
        "160",
        "161",
        "162",
        "163",
        "164",
        "165",
        "166",
        "167",
        "168",
        "169",
        "170",
        "171",
        "172",
        "173",
        "174",
        "175",
        "176",
        "177",
        "178",
        "179",
        "180",
        "181",
        "182",
        "183",
        "184",
        "185",
        "186",
        "187",
        "188",
        "189",
        "190",
        "191",
        "192",
        "193",
        "194",
        "195",
        "196",
        "197",
        "198",
        "199",
        "200"
      ],
      "description": "Set of all driving tasks."
    }
  ],
  "params": [
    {
      "name": "mileage",
      "indices": [
        "Tasks"
      ],
      "values": {
        "1": 17.1,
        "2": 26.4,
        "3": 17.1,
        "4": 26.4,
        "5": 17.1,
        "6": 26.4,
        "7": 17.1,
        "8": 26.4,
        "9": 17.1,
        "10": 26.4,
        "11": 17.1,
        "12": 26.4,
        "13": 17.1,
        "14": 26.4,
        "15": 17.1,
        "16": 26.4,
        "17": 17.1,
        "18": 26.4,
        "19": 17.1,
        "20": 26.4,
        "21": 17.1,
        "22": 26.4,
        "23": 17.1,
        "24": 26.4,
        "25": 17.1,
        "26": 26.4,
        "27": 17.1,
        "28": 26.4,
        "29": 17.1,
        "30": 26.4,
        "31": 17.1,
        "32": 26.4,
        "33": 17.1,
        "34": 26.4,
        "35": 17.1,
        "36": 26.4,
        "37": 17.1,
        "38": 26.4,
        "39": 17.1,
        "40": 26.4,
        "41": 17.1,
        "42": 26.4,
        "43": 17.1,
        "44": 26.4,
        "45": 17.1,
        "46": 26.4,
        "47": 17.1,
        "48": 26.4,
        "49": 17.1,
        "50": 26.4,
        "51": 17.1,
        "52": 26.4,
        "53": 17.1,
        "54": 26.4,
        "55": 17.1,
        "56": 26.4,
        "57": 17.1,
        "58": 26.4,
        "59": 17.1,
        "60": 26.4,
        "61": 17.1,
        "62": 26.4,
        "63": 17.1,
        "64": 26.4,
        "65": 17.1,
        "66": 26.4,
        "67": 17.1,
        "68": 26.4,
        "69": 17.1,
        "70": 26.4,
        "71": 17.1,
        "72": 26.4,
        "73": 17.1,
        "74": 26.4,
        "75": 17.1,
        "76": 26.4,
        "77": 17.1,
        "78": 26.4,
        "79": 17.1,
        "80": 26.4,
        "81": 17.1,
        "82": 26.4,
        "83": 17.1,
        "84": 26.4,
        "85": 17.1,
        "86": 26.4,
        "87": 17.1,
        "88": 26.4,
        "89": 17.1,
        "90": 26.4,
        "91": 17.1,
        "92": 26.4,
        "93": 17.1,
        "94": 26.4,
        "95": 17.1,
        "96": 26.4,
        "97": 17.1,
        "98": 26.4,
        "99": 17.1,
        "100": 26.4,
        "101": 17.1,
        "102": 26.4,
        "103": 17.1,
        "104": 26.4,
        "105": 17.1,
        "106": 26.4,
        "107": 17.1,
        "108": 26.4,
        "109": 17.1,
        "110": 26.4,
        "111": 17.1,
        "112": 26.4,
        "113": 17.1,
        "114": 26.4,
        "115": 17.1,
        "116": 26.4,
        "117": 17.1,
        "118": 26.4,
        "119": 17.1,
        "120": 26.4,
        "121": 17.1,
        "122": 26.4,
        "123": 17.1,
        "124": 26.4,
        "125": 17.1,
        "126": 26.4,
        "127": 17.1,
        "128": 26.4,
        "129": 17.1,
        "130": 26.4,
        "131": 17.1,
        "132": 26.4,
        "133": 17.1,
        "134": 26.4,
        "135": 17.1,
        "136": 26.4,
        "137": 17.1,
        "138": 26.4,
        "139": 17.1,
        "140": 26.4,
        "141": 17.1,
        "142": 26.4,
        "143": 17.1,
        "144": 26.4,
        "145": 17.1,
        "146": 26.4,
        "147": 17.1,
        "148": 26.4,
        "149": 17.1,
        "150": 26.4,
        "151": 17.1,
        "152": 26.4,
        "153": 17.1,
        "154": 26.4,
        "155": 17.1,
        "156": 26.4,
        "157": 17.1,
        "158": 26.4,
        "159": 17.1,
        "160": 26.4,
        "161": 17.1,
        "162": 26.4,
        "163": 17.1,
        "164": 26.4,
        "165": 17.1,
        "166": 26.4,
        "167": 17.1,
        "168": 26.4,
        "169": 17.1,
        "170": 26.4,
        "171": 17.1,
        "172": 26.4,
        "173": 17.1,
        "174": 26.4,
        "175": 17.1,
        "176": 26.4,
        "177": 17.1,
        "178": 26.4,
        "179": 17.1,
        "180": 26.4,
        "181": 17.1,
        "182": 26.4,
        "183": 17.1,
        "184": 26.4,
        "185": 17.1,
        "186": 26.4,
        "187": 17.1,
        "188": 26.4,
        "189": 17.1,
        "190": 26.4,
        "191": 17.1,
        "192": 26.4,
        "193": 17.1,
        "194": 26.4,
        "195": 17.1,
        "196": 26.4,
        "197": 17.1,
        "198": 26.4,
        "199": 17.1,
        "200": 26.4
      },
      "description": "Mileage for each task."
    }
  ],
  "vars": [
    {
      "name": "driver",
      "indices": [
        "Tasks"
      ],
      "vartype": "binary",
      "lb": 0.0,
      "ub": 1.0,
      "description": "Binary variable indicating if a driver is assigned to a task."
    }
  ],
  "objective": {
    "name": "min_drivers",
    "sense": "min",
    "expr": "quicksum(driver[t] for t in Tasks)",
    "description": "Minimize the number of drivers."
  },
  "constraints": [
    {
      "name": "max_continuous_driving_time",
      "expr_lhs": "quicksum(mileage[t] * driver[t] for t in Tasks)",
      "sense": "<=",
      "expr_rhs": "8.0",
      "description": "Maximum continuous driving time constraint."
    }
  ]
}